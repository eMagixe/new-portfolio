import{s as I,v as P,w as $,x as D,y as B,z as C,A as V,B as _,C as j}from"./CtrDg7CY.js";import{B as m,e as L,E as T,f as W,a7 as R,C as K,$ as N,h as U}from"./3Vw4i-oE.js";function oe(e={}){const{inheritAttrs:n=!0}=e,l=m(),f=L({setup(t,{slots:a}){return()=>{l.value=a.default}}}),p=L({inheritAttrs:n,props:e.props,setup(t,{attrs:a,slots:s}){return()=>{var o;l.value;const u=(o=l.value)==null?void 0:o.call(l,{...e.props==null?q(a):t,$slots:s});return n&&u?.length===1?u[0]:u}}});return I({define:f,reuse:p},[f,p])}function q(e){const n={};for(const l in e)n[P(l)]=e[l];return n}const z=D?window:void 0;function x(e){var n;const l=R(e);return(n=l?.$el)!=null?n:l}function M(...e){const n=[],l=()=>{n.forEach(s=>s()),n.length=0},f=(s,o,u,i)=>(s.addEventListener(o,u,i),()=>s.removeEventListener(o,u,i)),p=W(()=>{const s=C(R(e[0])).filter(o=>o!=null);return s.every(o=>typeof o!="string")?s:void 0}),t=_(()=>{var s,o;return[(o=(s=p.value)==null?void 0:s.map(u=>x(u)))!=null?o:[z].filter(u=>u!=null),C(R(p.value?e[1]:e[0])),C(U(p.value?e[2]:e[1])),R(p.value?e[3]:e[2])]},([s,o,u,i])=>{if(l(),!s?.length||!o?.length||!u?.length)return;const v=j(i)?{...i}:i;n.push(...s.flatMap(c=>o.flatMap(d=>u.map(h=>f(c,d,h,v)))))},{flush:"post"}),a=()=>{t(),l()};return B(l),a}function G(){const e=m(!1),n=N();return n&&K(()=>{e.value=!0},n),e}function F(e){const n=G();return W(()=>(n.value,!!e()))}function J(e,n,l={}){const{window:f=z,...p}=l;let t;const a=F(()=>f&&"MutationObserver"in f),s=()=>{t&&(t.disconnect(),t=void 0)},o=W(()=>{const c=R(e),d=C(c).map(x).filter(V);return new Set(d)}),u=T(o,c=>{s(),a.value&&c.size&&(t=new MutationObserver(n),c.forEach(d=>t.observe(d,p)))},{immediate:!0,flush:"post"}),i=()=>t?.takeRecords(),v=()=>{u(),s()};return B(v),{isSupported:a,stop:v,takeRecords:i}}function Q(e,n,l={}){const{window:f=z,...p}=l;let t;const a=F(()=>f&&"ResizeObserver"in f),s=()=>{t&&(t.disconnect(),t=void 0)},o=W(()=>{const v=R(e);return Array.isArray(v)?v.map(c=>x(c)):[x(v)]}),u=T(o,v=>{if(s(),a.value&&f){t=new ResizeObserver(n);for(const c of v)c&&t.observe(c,p)}},{immediate:!0,flush:"post"}),i=()=>{s(),u()};return B(i),{isSupported:a,stop:i}}const Z={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ee(e={}){const{type:n="page",touch:l=!0,resetOnTouchEnds:f=!1,initialValue:p={x:0,y:0},window:t=z,target:a=t,scroll:s=!0,eventFilter:o}=e;let u=null,i=0,v=0;const c=m(p.x),d=m(p.y),h=m(null),E=typeof n=="function"?n:Z[n],X=r=>{const b=E(r);u=r,b&&([c.value,d.value]=b,h.value="mouse"),t&&(i=t.scrollX,v=t.scrollY)},g=r=>{if(r.touches.length>0){const b=E(r.touches[0]);b&&([c.value,d.value]=b,h.value="touch")}},w=()=>{if(!u||!t)return;const r=E(u);u instanceof MouseEvent&&r&&(c.value=r[0]+t.scrollX-i,d.value=r[1]+t.scrollY-v)},O=()=>{c.value=p.x,d.value=p.y},S=o?r=>o(()=>X(r),{}):r=>X(r),y=o?r=>o(()=>g(r),{}):r=>g(r),Y=o?()=>o(()=>w(),{}):()=>w();if(a){const r={passive:!0};M(a,["mousemove","dragover"],S,r),l&&n!=="movement"&&(M(a,["touchstart","touchmove"],y,r),f&&M(a,"touchend",O,r)),s&&n==="page"&&M(t,"scroll",Y,r)}return{x:c,y:d,sourceType:h}}function se(e,n={}){const{windowResize:l=!0,windowScroll:f=!0,handleOutside:p=!0,window:t=z}=n,a=n.type||"page",{x:s,y:o,sourceType:u}=ee(n),i=m(e??t?.document.body),v=m(0),c=m(0),d=m(0),h=m(0),E=m(0),X=m(0),g=m(!0);function w(){if(!t)return;const y=x(i);if(!y||!(y instanceof Element))return;const{left:Y,top:r,width:b,height:H}=y.getBoundingClientRect();d.value=Y+(a==="page"?t.pageXOffset:0),h.value=r+(a==="page"?t.pageYOffset:0),E.value=H,X.value=b;const k=s.value-d.value,A=o.value-h.value;g.value=b===0||H===0||k<0||A<0||k>b||A>H,(p||!g.value)&&(v.value=k,c.value=A)}const O=[];function S(){O.forEach(y=>y()),O.length=0}if($(()=>{w()}),t){const{stop:y}=Q(i,w),{stop:Y}=J(i,w,{attributeFilter:["style","class"]}),r=T([i,s,o],w);O.push(y,Y,r),M(document,"mouseleave",()=>g.value=!0,{passive:!0}),f&&O.push(M("scroll",w,{capture:!0,passive:!0})),l&&O.push(M("resize",w,{passive:!0}))}return{x:s,y:o,sourceType:u,elementX:v,elementY:c,elementPositionX:d,elementPositionY:h,elementHeight:E,elementWidth:X,isOutside:g,stop:S}}export{oe as c,se as u};
